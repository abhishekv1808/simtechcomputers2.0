<!DOCTYPE html>
<html lang="en">
<head>
                </form>
            </div>

        </div>
    </main>

    <script>
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const previewArea = document.getElementById('preview-area');
        const dataTransfer = new DataTransfer();

        // Drag & Drop visual effects
        ['dragenter', 'dragover'].forEach(eventName => {
            dropZone.addEventListener(eventName, (e) => {
                e.preventDefault();
                e.stopPropagation();
                dropZone.classList.add('border-green-500', 'bg-green-50', 'dark:bg-green-900/10');
            }, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropZone.addEventListener(eventName, (e) => {
                e.preventDefault();
                e.stopPropagation();
                dropZone.classList.remove('border-green-500', 'bg-green-50', 'dark:bg-green-900/10');
            }, false);
        });

        const updatePreview = () => {
            previewArea.innerHTML = '';
            Array.from(dataTransfer.files).forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const div = document.createElement('div');
                    div.className = 'relative group rounded-lg overflow-hidden border border-[var(--admin-border)] aspect-square';
                    div.innerHTML = `
                        <img src="${e.target.result}" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white">
                             <span class="text-xs font-medium">${(file.size / 1024).toFixed(1)} KB</span>
                        </div>
                         <button type="button" class="absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-sm opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600" onclick="removeFile(${index})">
                            <i class="ri-close-line"></i>
                        </button>
                    `;
                    previewArea.appendChild(div);
                };
                reader.readAsDataURL(file);
            });
        };

        window.removeFile = (index) => {
            const newDt = new DataTransfer();
            Array.from(dataTransfer.files).forEach((file, i) => {
                if (i !== index) newDt.items.add(file);
            });
            dataTransfer.items.clear();
            Array.from(newDt.files).forEach(file => dataTransfer.items.add(file));
            
            fileInput.files = dataTransfer.files;
            updatePreview();
        };

        const handleFiles = (files) => {
            Array.from(files).forEach(file => {
                if (file.type.startsWith('image/')) {
                    dataTransfer.items.add(file);
                }
            });
            fileInput.files = dataTransfer.files;
            updatePreview();
        };

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        dropZone.addEventListener('drop', (e) => {
            const dt = e.dataTransfer;
            handleFiles(dt.files);
        });
    </script>
</body>
</html>
