<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

    <%- include('../partials/header') %>

    <main class="flex-grow pt-12 pb-12">
        <div class="max-w-6xl mx-auto px-4">
            
            <!-- Breadcrumb -->
            <nav class="flex mb-8 text-sm text-gray-500">
                <a href="/" class="hover:text-[#a51c30]">Home</a>
                <span class="mx-2">/</span>
                <span class="text-gray-900 font-medium">Contact Us</span>
            </nav>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                
                <!-- Contact Information and Map -->
                <div class="flex flex-col h-full space-y-8">
                    <div>
                        <h1 class="text-4xl font-bold text-gray-900 mb-4">Get in Touch</h1>
                        <p class="text-gray-600 mb-6">Have a specific requirement or query? Fill out the form, and our team will get back to you with the best options.</p>
                        
                         <div class="flex items-start gap-4 mb-6">
                            <div class="w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-[#a51c30]">
                                <i class="ri-map-pin-line text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">Our Store</h3>
                                <p class="text-gray-600 text-sm leading-relaxed">Shop No. 5, Tech Plaza, Main Street,<br>Bangalore, Karnataka, 560001</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4 mb-6">
                            <div class="w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-[#a51c30]">
                                <i class="ri-phone-line text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">Phone</h3>
                                <p class="text-gray-600 text-sm">+91 98765 43210</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-[#a51c30]">
                                <i class="ri-mail-line text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">Email</h3>
                                <p class="text-gray-600 text-sm">support@simtechcomputers.com</p>
                            </div>
                        </div>
                    </div>

                    <!-- Map Placeholder -->
                    <div class="bg-gray-200 rounded-xl w-full overflow-hidden relative flex-grow min-h-[300px]">
                         <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d248849.886539092!2d77.49085452149588!3d12.953959988118836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bae1670c9b44e6d%3A0xf8dfc3e8517e4fe0!2sBengaluru%2C%20Karnataka!5e0!3m2!1sen!2sin!4v1705574400000!5m2!1sen!2sin" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>

                <!-- Enquiry Form -->
                <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Enquiry Form</h2>
                    <form action="/contact-us" method="POST" class="space-y-6">
                        <% if (errorMessage) { %>
                            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                                <span class="block sm:inline"><%= errorMessage %></span>
                            </div>
                        <% } %>
                        <% if (successMessage) { %>
                            <!-- Success Modal -->
                            <div id="successModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm opacity-0 transition-opacity duration-300 pointer-events-none">
                                <div class="bg-white border border-gray-200 rounded-2xl shadow-2xl p-8 transform scale-95 transition-transform duration-300 flex flex-col items-center max-w-sm w-full mx-4 relative">
                                    <button type="button" onclick="closeModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors">
                                        <i class="ri-close-line text-2xl"></i>
                                    </button>
                                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4 text-green-600 text-3xl shadow-sm">
                                        <i class="ri-checkbox-circle-fill"></i>
                                    </div>
                                    <h3 class="text-xl font-bold text-gray-900 mb-2">Success!</h3>
                                    <p class="text-gray-600 text-center mb-6"><%= successMessage %></p>
                                    <button type="button" onclick="closeModal()" class="w-full bg-[#a51c30] hover:bg-red-700 text-white font-bold py-2.5 rounded-lg transition-colors">
                                        Close
                                    </button>
                                </div>
                            </div>

                            <script>
                                document.addEventListener('DOMContentLoaded', () => {
                                    const modal = document.getElementById('successModal');
                                    const modalContent = modal.querySelector('div');

                                    // Show
                                    setTimeout(() => {
                                        modal.classList.remove('opacity-0', 'pointer-events-none');
                                        modalContent.classList.remove('scale-95');
                                        modalContent.classList.add('scale-100');
                                    }, 100);

                                    window.closeModal = () => {
                                        modal.classList.add('opacity-0', 'pointer-events-none');
                                        modalContent.classList.remove('scale-100');
                                        modalContent.classList.add('scale-95');
                                    };
                                });
                            </script>
                        <% } %>
                        
                        <!-- Personal Details -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name *</label>
                                <input type="text" id="name" name="name" value="<%= oldInput.name %>" required class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all placeholder-gray-400 <%= validationErrors.find(e => e.path === 'name') ? 'border-red-500 ring-2 ring-red-100' : '' %>" placeholder="John Doe">
                                <% const nameError = validationErrors.find(e => e.path === 'name'); %>
                                <% if (nameError) { %>
                                    <p class="text-red-500 text-xs mt-1 font-medium"><i class="ri-error-warning-fill align-middle mr-1"></i><%= nameError.msg %></p>
                                <% } %>
                            </div>
                             <div>
                                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number *</label>
                                <input type="tel" id="phone" name="phone" value="<%= oldInput.phone %>" required class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all placeholder-gray-400 <%= validationErrors.find(e => e.path === 'phone') ? 'border-red-500 ring-2 ring-red-100' : '' %>" placeholder="+91 9876543210">
                                <% const phoneError = validationErrors.find(e => e.path === 'phone'); %>
                                <% if (phoneError) { %>
                                    <p class="text-red-500 text-xs mt-1 font-medium"><i class="ri-error-warning-fill align-middle mr-1"></i><%= phoneError.msg %></p>
                                <% } %>
                            </div>
                        </div>

                         <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                            <input type="email" id="email" name="email" value="<%= oldInput.email %>" class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all placeholder-gray-400 <%= validationErrors.find(e => e.path === 'email') ? 'border-red-500 ring-2 ring-red-100' : '' %>" placeholder="john@example.com">
                            <% const emailError = validationErrors.find(e => e.path === 'email'); %>
                            <% if (emailError) { %>
                                <p class="text-red-500 text-xs mt-1 font-medium"><i class="ri-error-warning-fill align-middle mr-1"></i><%= emailError.msg %></p>
                            <% } %>
                        </div>

                        <hr class="border-gray-100 my-6">
                        
                        <h3 class="text-lg font-bold text-gray-900">Product Specifications</h3>
                        <p class="text-sm text-gray-500 mb-4">Select the specifications you are looking for.</p>

                        <!-- Specifications Grid -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                             <!-- Brand -->
                            <div>
                                <label for="brand" class="block text-sm font-medium text-gray-700 mb-1">Preferred Brand</label>
                                <select id="brand" name="brand" class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all bg-white">
                                    <option value="" disabled <%= !oldInput.brand ? 'selected' : '' %>>Select Brand</option>
                                    <option value="Apple" <%= oldInput.brand === 'Apple' ? 'selected' : '' %>>Apple</option>
                                    <option value="Dell" <%= oldInput.brand === 'Dell' ? 'selected' : '' %>>Dell</option>
                                    <option value="HP" <%= oldInput.brand === 'HP' ? 'selected' : '' %>>HP</option>
                                    <option value="Lenovo" <%= oldInput.brand === 'Lenovo' ? 'selected' : '' %>>Lenovo</option>
                                    <option value="Other" <%= oldInput.brand === 'Other' ? 'selected' : '' %>>Other</option>
                                </select>
                            </div>

                             <!-- Processor -->
                            <div>
                                <label for="processor" class="block text-sm font-medium text-gray-700 mb-1">Processor</label>
                                <select id="processor" name="processor" class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all bg-white">
                                    <option value="" disabled <%= !oldInput.processor ? 'selected' : '' %>>Select Processor</option>
                                    <option value="i3" <%= oldInput.processor === 'i3' ? 'selected' : '' %>>Core i3</option>
                                    <option value="i5" <%= oldInput.processor === 'i5' ? 'selected' : '' %>>Core i5</option>
                                    <option value="i7" <%= oldInput.processor === 'i7' ? 'selected' : '' %>>Core i7</option>
                                    <option value="i9" <%= oldInput.processor === 'i9' ? 'selected' : '' %>>Core i9</option>
                                    <option value="M1" <%= oldInput.processor === 'M1' ? 'selected' : '' %>>Apple M1</option>
                                    <option value="M2" <%= oldInput.processor === 'M2' ? 'selected' : '' %>>Apple M2</option>
                                    <option value="Ryzen 5" <%= oldInput.processor === 'Ryzen 5' ? 'selected' : '' %>>Ryzen 5</option>
                                    <option value="Ryzen 7" <%= oldInput.processor === 'Ryzen 7' ? 'selected' : '' %>>Ryzen 7</option>
                                </select>
                            </div>

                            <!-- RAM -->
                            <div>
                                <label for="ram" class="block text-sm font-medium text-gray-700 mb-1">RAM</label>
                                <select id="ram" name="ram" class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all bg-white">
                                    <option value="" disabled <%= !oldInput.ram ? 'selected' : '' %>>Select RAM</option>
                                    <option value="4GB" <%= oldInput.ram === '4GB' ? 'selected' : '' %>>4GB</option>
                                    <option value="8GB" <%= oldInput.ram === '8GB' ? 'selected' : '' %>>8GB</option>
                                    <option value="16GB" <%= oldInput.ram === '16GB' ? 'selected' : '' %>>16GB</option>
                                    <option value="32GB" <%= oldInput.ram === '32GB' ? 'selected' : '' %>>32GB</option>
                                    <option value="64GB" <%= oldInput.ram === '64GB' ? 'selected' : '' %>>64GB+</option>
                                </select>
                            </div>

                             <!-- Storage -->
                            <div>
                                <label for="storage" class="block text-sm font-medium text-gray-700 mb-1">Storage</label>
                                <select id="storage" name="storage" class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all bg-white">
                                    <option value="" disabled <%= !oldInput.storage ? 'selected' : '' %>>Select Storage</option>
                                    <option value="256GB SSD" <%= oldInput.storage === '256GB SSD' ? 'selected' : '' %>>256GB SSD</option>
                                    <option value="512GB SSD" <%= oldInput.storage === '512GB SSD' ? 'selected' : '' %>>512GB SSD</option>
                                    <option value="1TB SSD" <%= oldInput.storage === '1TB SSD' ? 'selected' : '' %>>1TB SSD</option>
                                    <option value="1TB HDD" <%= oldInput.storage === '1TB HDD' ? 'selected' : '' %>>1TB HDD</option>
                                </select>
                            </div>

                            <!-- Model No -->
                            <div>
                                <label for="model" class="block text-sm font-medium text-gray-700 mb-1">Model No (Optional)</label>
                                <input type="text" id="model" name="model" value="<%= oldInput.model %>" class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all placeholder-gray-400" placeholder="e.g. XPS 13, MacBook Air M1">
                            </div>

                            <!-- Purpose -->
                            <div>
                                <label for="purpose" class="block text-sm font-medium text-gray-700 mb-1">Purpose</label>
                                <select id="purpose" name="purpose" class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all bg-white">
                                    <option value="" disabled <%= !oldInput.purpose ? 'selected' : '' %>>Select Purpose</option>
                                    <option value="Gaming" <%= oldInput.purpose === 'Gaming' ? 'selected' : '' %>>Gaming</option>
                                    <option value="Editing" <%= oldInput.purpose === 'Editing' ? 'selected' : '' %>>Editing</option>
                                    <option value="Coding" <%= oldInput.purpose === 'Coding' ? 'selected' : '' %>>Coding</option>
                                    <option value="Business Work" <%= oldInput.purpose === 'Business Work' ? 'selected' : '' %>>Business Work</option>
                                    <option value="Standard Work" <%= oldInput.purpose === 'Standard Work' ? 'selected' : '' %>>Standard Work</option>
                                </select>
                            </div>
                        </div>

                         <!-- Message -->
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Additional Requirements</label>
                            <textarea id="message" name="message" rows="4" class="w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-100 focus:border-[#a51c30] outline-none transition-all placeholder-gray-400 <%= validationErrors.find(e => e.path === 'message') ? 'border-red-500 ring-2 ring-red-100' : '' %>" placeholder="Any specific details, model years, or budget range..."><%= oldInput.message %></textarea>
                            <% const messageError = validationErrors.find(e => e.path === 'message'); %>
                            <% if (messageError) { %>
                                <p class="text-red-500 text-xs mt-1 font-medium"><i class="ri-error-warning-fill align-middle mr-1"></i><%= messageError.msg %></p>
                            <% } %>
                        </div>

                        <button type="submit" class="w-full bg-[#a51c30] hover:bg-red-700 text-white font-bold py-3 rounded-lg shadow-md transition-colors flex items-center justify-center gap-2">
                            <span>Send Enquiry</span>
                            <i class="ri-send-plane-fill"></i>
                        </button>

                    </form>
                </div>
            </div>
        </div>
    </main>

    <%- include('../partials/footer') %>

</body>
</html>
